<main class="user-page">
  <div class="flex-layout">
    <div class="main-column">
      <%= render(Users::ProfileBannerComponent.new(user: @user)) %>
      <%= render Shared::ResourcesListComponent.new(
        resources: @user.proposals.order(created_at: :desc),
        title: t("custom.users.activity"),
        remote_url: user_resources_path(@user),
        filters: ["proposals", "debates"],
        filter_param: "resources_type",
        filter_title: "Filtern nach",
        filter_i18n_namespace: "custom.users.resources_filter"
      ) %>
    </div>
    <aside class="sidebar">
      <% if @user != current_user %>
        <%= render Shared::SidebarCardComponent.new(title: t("custom.users.contact"), icon_name: "envelope-open") do |c| %>
          <% if @user.email_on_direct_message? %>
            <%= link_to t("users.show.send_private_message"),
              new_user_direct_message_path(@user),
              class: "button" %>
          <% else %>
            <div class="callout primary float-right">
              <%= t("users.show.no_private_messages") %>
            </div>
          <% end %>
        <% end %>
      <% end %>
    </aside>
  </div>
</main>
