<%= render(Resources::ListItemComponent.new(component_attributes)) do |c| %>
  <% c.header do %>
    <div></div>
    <div>
      <%= l(budget_investment.created_at, format: :date_only) %>
    </div>
  <% end %>

  <% unless budget_investment.unfeasible? %>

    <% if budget_investment.should_show_vote_count? %>
      <% c.footer_section do %>
        <div id="<%= dom_id(budget_investment) %>_votes"
             class="small-12 medium-3 column text-center">
          <div class="supports">
            <span class="total-supports no-button">
              <%= t("budgets.investments.investment.supports",
                  count: budget_investment.total_votes) %>
            </span>
          </div>
        </div>
      <% end %>
    <% end %>

    <% if budget_investment.should_show_price? && !budget_investment.should_show_ballots? %>
      <% c.footer_section do %>
        <div id="<%= dom_id(budget_investment) %>_price"
             class="supports small-12 medium-3 column text-center">
          <div class="supports">
            <span class="total-supports no-button">
              <%= budget_investment.formatted_price %>
            </span>
          </div>
        </div>
      <% end %>
    <% end %>

    <% if budget_investment.should_show_votes? %>
      <% c.footer_section do %>
        <div id="<%= dom_id(budget_investment) %>_votes"
             class="small-12 medium-3 column text-center">
             <%= render Budgets::Investments::VotesComponent.new(budget_investment) %>
        </div>
      <% end %>

    <% elsif budget_investment.should_show_ballots? && !management_controller? %>
      <% c.footer_section do %>
        <div id="<%= dom_id(budget_investment) %>_ballot"
             class="small-12 medium-3 column text-center">
              <%= render "/budgets/investments/ballot",
                investment: budget_investment,
                investment_ids: budget_investment_ids,
                ballot: ballot %>
        </div>
      <% end %>

    <% end %>

    <% if investment_status_callout.present? %>
      <% c.footer_section do %>
        <%= investment_status_callout %>
      <% end %>
    <% end %>

  <% end %>
<% end %>
